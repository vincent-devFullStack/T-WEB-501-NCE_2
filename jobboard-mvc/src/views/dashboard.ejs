<link rel="stylesheet" href="/style/dashboard.css" />

<main class="dashboard-container">
  <h1>Dashboard Administrateur</h1>
  <p>Vue d'ensemble de la plateforme</p>

  <div class="kpi-grid">
    <!-- Carte Utilisateurs -->
    <div class="users-card kpi-card-item" id="users-card">
      <h2>ðŸ‘¥ Utilisateurs inscrits</h2>
      <div class="chart-with-legend">
        <div class="donut-container">
          <div class="donut" id="donut-chart-users"></div>
          <div class="donut-center">
            <p class="total" id="total-users">0</p>
            <p class="label">inscrits</p>
          </div>
        </div>
        <div class="legend">
          <div class="legend-item">
            <div class="legend-color candidats"></div>
            <span class="legend-text"
              >Candidats:
              <span class="legend-value" id="candidats-count">0</span></span
            >
          </div>
          <div class="legend-item">
            <div class="legend-color recruteurs"></div>
            <span class="legend-text"
              >Recruteurs:
              <span class="legend-value" id="recruteurs-count">0</span></span
            >
          </div>
        </div>
      </div>
    </div>

    <!-- Carte Annonces -->
    <div class="ads-card kpi-card-item" id="ads-card">
      <h2>ðŸ’¼ Annonces publiÃ©es</h2>
      <div class="chart-with-legend">
        <div class="donut-container">
          <div class="donut" id="donut-chart-ads"></div>
          <div class="donut-center">
            <p class="total" id="total-ads">0</p>
            <p class="label">annonces</p>
          </div>
        </div>
        <div class="legend">
          <div class="legend-item">
            <div class="legend-color cdi"></div>
            <span class="legend-text"
              >CDI: <span class="legend-value" id="cdi-count">0</span></span
            >
          </div>
          <div class="legend-item">
            <div class="legend-color stage"></div>
            <span class="legend-text"
              >Stage: <span class="legend-value" id="stage-count">0</span></span
            >
          </div>
          <div class="legend-item">
            <div class="legend-color alternance"></div>
            <span class="legend-text"
              >Alternance:
              <span class="legend-value" id="alternance-count">0</span></span
            >
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Liste des utilisateurs -->
  <div class="users-list-section" id="users-list-section" style="display: none">
    <div class="section-header">
      <h2>ðŸ“‹ Liste des utilisateurs</h2>
    </div>
    <div class="table-container">
      <table class="data-table">
        <thead>
          <tr>
            <th>Nom</th>
            <th>Email</th>
            <th>RÃ´le</th>
            <th>Inscription</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="users-table-body">
          <tr>
            <td colspan="5" class="loading-cell">Chargement...</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Liste des annonces -->
  <div class="ads-list-section" id="ads-list-section" style="display: none">
    <div class="section-header">
      <h2>ðŸ“‹ Liste des annonces</h2>
    </div>
    <div class="table-container">
      <table class="data-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Titre</th>
            <th>Entreprise</th>
            <th>Type de contrat</th>
            <th>Statut</th>
            <th>Date de crÃ©ation</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="ads-table-body">
          <tr>
            <td colspan="7" class="loading-cell">Chargement...</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</main>

<div class="modal" id="ad-details-modal" style="display: none">
  <div class="modal-content">
    <div class="modal-header">
      <h2 id="modal-title">DÃ©tails de l'annonce</h2>
      <button class="btn-close-modal" id="close-modal">âœ•</button>
    </div>
    <div class="modal-body" id="modal-body"></div>
  </div>
</div>

<script type="module" src="/js/dashboard.js"></script>
